webpackJsonp([2,0],[function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=s(22),o=n(r),i=s(101),a=n(i),u=s(91),c=n(u),l=s(40),f=n(l),p=s(23),d=n(p),h=s(103),m=s(39);(0,h.sync)(d.default,f.default);var v={color:"#f60",failedColor:"#874b4b",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s"},autoRevert:!0,location:"top",inverse:!1};o.default.use(a.default,v),o.default.filter("fromNow",m.fromNow),o.default.filter("domain",m.domain),o.default.filter("pluralize",m.pluralize);new o.default({el:"#app",template:"<App/>",components:{App:c.default},router:f.default,store:d.default})},,,,,,,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(22),i=r(o),a=s(104),u=r(a),c=s(41),l=n(c),f=s(43),p=n(f);i.default.use(u.default);var d={activeType:null,itemsPerPage:30,items:[],lists:{top:[],new:[],show:[],ask:[],job:[]}},h=new u.default.Store({state:d,actions:l,mutations:p});e.default=h},,,,,,,,,,,,,,,,function(t,e){"use strict";function s(t){return o.href=t,o.hostname}function n(t){var e=Date.now()/1e3-Number(t);return e<3600?r(~~(e/60)," minute"):e<86400?r(~~(e/3600)," hour"):r(~~(e/86400)," day")}function r(t,e){return 1===t?t+e:t+e+"s"}Object.defineProperty(e,"__esModule",{value:!0}),e.domain=s,e.fromNow=n,e.pluralize=r;var o=document.createElement("a")},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(22),o=n(r),i=s(102),a=n(i),u=s(94),c=n(u);o.default.use(a.default),e.default=new a.default({scrollBehavior:function(){return{y:0}},routes:[{path:"/:page(\\d+)?",name:"top",component:c.default},{path:"/new/:page(\\d+)?",name:"new",component:c.default},{path:"/show/:page(\\d+)?",name:"show",component:c.default},{path:"/ask/:page(\\d+)?",name:"ask",component:c.default},{path:"/job/:page(\\d+)?",name:"job",component:c.default}]})},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.FETCH_ITEMS_BY_PAGE=e.FETCH_LIST_DATA=void 0;var r=s(24),o=n(r),i=s(42),a=function(t,e){var s=t.commit,n=t.dispatch,r=t.state,o=e.type,a=e.page;return(0,i.fetchIdsByType)(o).then(function(t){return s("SET_LIST",{type:o,ids:t})}).then(function(){return s("SET_ACTIVE_TYPE",{type:o})}).then(function(){return n("FETCH_ITEMS_BY_PAGE",{ids:r.lists[o],page:a})})},u=function(t,e){var s=t.commit,n=t.state,r=e.ids,a=e.page,u=n.itemsPerPage,c=(a-1)*u,l=a*u;return r=r.slice(c,l),r.length?(0,i.fetchItems)(r).then(function(t){return s("SET_ITEMS",{items:t})}):o.default.resolve()};e.FETCH_LIST_DATA=a,e.FETCH_ITEMS_BY_PAGE=u},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return new c.default(function(e,s){g[t]?e(g[t]):_.child("item/"+t).once("value",function(s){var n=g[t]=s.val();e(n)},s)})}function o(t){return t&&t.length?c.default.all(t.map(function(t){return r(t)})):c.default.resolve([])}function i(t){return new c.default(function(e,s){_.child(t).once("value",function(t){var s=t.val();e(s)},s)})}function a(t){return i(t+"stories")}Object.defineProperty(e,"__esModule",{value:!0});var u=s(24),c=n(u),l=s(48),f=n(l);e.fetchItem=r,e.fetchItems=o,e.fetchIdsByType=a;var p=s(37),d=n(p),h=s(88),m=(n(h),{databaseURL:"https://hacker-news.firebaseio.com"});d.default.initializeApp(m);var v="/v0",_=d.default.database().ref(v),g=(0,f.default)(null)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e){var s=e.type;t.activeType=s},n=function(t,e){var s=e.items;t.items=s},r=function(t,e){var s=e.type,n=e.ids;t.lists[s]=n};e.SET_ACTIVE_TYPE=s,e.SET_ITEMS=n,e.SET_LIST=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="undefined"!=typeof window;e.default={name:"VueProgress",serverCacheKey:function(){return"Progress"},computed:{style:function t(){var e=this.progress.options.location,t={"background-color":this.progress.options.canSuccess?this.progress.options.color:this.progress.options.failedColor,opacity:this.progress.options.show?1:0};return"top"==e||"bottom"==e?("top"===e?t.top="0px":t.bottom="0px",this.progress.options.inverse?t.right="0px":t.left="0px",t.width=this.progress.percent+"%",t.height=this.progress.options.thickness,t.transition="width "+this.progress.options.transition.speed+", opacity "+this.progress.options.transition.opacity):"left"!=e&&"right"!=e||("left"===e?t.left="0px":t.right="0px",this.progress.options.inverse?t.top="0px":t.bottom="0px",t.height=this.progress.percent+"%",t.width=this.progress.options.thickness,t.transition="height "+this.progress.options.transition.speed+", opacity "+this.progress.options.transition.opacity),t},progress:function(){return s?window.VueProgressBarEventBus.RADON_LOADING_BAR:{percent:0,options:{canSuccess:!0,show:!1,color:"rgb(19, 91, 55)",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},location:"top",autoRevert:!0,inverse:!1}}}}}},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(93),o=n(r);e.default={name:"app",components:{NewsHeader:o.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Item",props:{item:Object,index:Number},computed:{href:function(){return this.item.url||"#/item/"+this.item.id},showInfo:function(){return"story"===this.item.type||"poll"===this.item.type},showDomain:function(){return"story"===this.item.type}}}},function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(23),o=(n(r),s(92)),i=n(o);e.default={name:"NewsView",components:{Item:i.default},data:function(){return{items:[]}},mounted:function(){this.fetchItems()},watch:{$route:function(){this.fetchItems()}},methods:{fetchItems:function(){var t=this;this.$Progress.start(),this.$store.dispatch("FETCH_LIST_DATA",{type:this.type,page:this.page}).then(function(){t.$Progress.finish(),t.items=t.$store.state.items,t.items.forEach(function(e,s){t.$set(e,"index",(t.page-1)*t.$store.state.itemsPerPage+s+1)})},function(){t.$Progress.fail()})}},computed:{page:function(){return Number(this.$store.state.route.params.page)||1},type:function(){return this.$store.state.route.name},path:function(){return"top"===this.$store.state.route.name?"/":"/"+this.$store.state.route.name+"/"},maxPage:function(){var t=this.$store.state,e=t.itemsPerPage,s=t.lists;return Math.ceil(s[this.type].length/e)},hasMore:function(){return this.page<this.maxPage}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e,s){s(86);var n=s(8)(s(45),s(99),null,null);t.exports=n.exports},function(t,e,s){s(83);var n=s(8)(s(46),s(96),null,null);t.exports=n.exports},function(t,e,s){s(85);var n=s(8)(null,s(98),null,null);t.exports=n.exports},function(t,e,s){s(87);var n=s(8)(s(47),s(100),null,null);t.exports=n.exports},function(t,e,s){s(84);var n=s(8)(s(44),s(97),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"item"},[s("span",{staticClass:"index"},[t._v(t._s(t.index)+".")]),t._v(" "),s("p",[s("a",{staticClass:"title",attrs:{href:t.href,target:"_blank"}},[t._v(t._s(t.item.title))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.showDomain,expression:"showDomain"}],staticClass:"domain"},[t._v("\n      ("+t._s(t._f("domain")(t.item.url))+")\n    ")])]),t._v(" "),s("p",{staticClass:"subtext"},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}]},[t._v("\n      "+t._s(t.item.score)+" points by\n      "),s("a",{attrs:{href:"//news.ycombinator.com/user?id="+t.item.by,target:"_blank"}},[t._v(t._s(t.item.by))])]),t._v("\n    "+t._s(t._f("fromNow")(t.item.time))+" ago\n    "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}],staticClass:"comments-link"},[t._v("\n      | "),s("a",{attrs:{href:"//news.ycombinator.com/item?id="+t.item.id,target:"_blank"}},[t._v(t._s(t._f("pluralize")(t.item.descendants,"comment")))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"__cov-progress",style:t.style})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"news-header"},[s("div",{staticClass:"logo"}),t._v(" "),s("ul",{staticClass:"nav"},[s("router-link",{staticClass:"title",attrs:{to:{name:"top"}}},[t._v("Hacker News")]),t._v(" "),s("router-link",{staticClass:"tab",attrs:{to:{name:"new"}}},[t._v("new")]),t._v(" "),s("router-link",{staticClass:"tab",attrs:{to:{name:"show"}}},[t._v("show")]),t._v(" "),s("router-link",{staticClass:"tab",attrs:{to:{name:"ask"}}},[t._v("ask")]),t._v(" "),s("router-link",{staticClass:"tab",attrs:{to:{name:"job"}}},[t._v("jobs")])],1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"project-info"},[t._v("Built by Zhang Zongzheng | "),s("a",{staticClass:"source",attrs:{href:"https://github.com/ihaichao/vue-hackernews.git"}},[t._v("Source")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("NewsHeader"),t._v(" "),s("router-view",{staticClass:"view"}),t._v(" "),s("vue-progress-bar")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"news-view",class:{loading:!t.items.length}},[t._l(t.items,function(t){return s("item",{attrs:{item:t,index:t.index}})}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length>0,expression:"items.length > 0"}],staticClass:"pagination"},[t.page>1?s("router-link",{attrs:{to:t.path+(t.page-1)}},[t._v("< prev")]):t._e(),t._v(" "),t.hasMore?s("router-link",{attrs:{to:t.path+(t.page+1)}},[t._v("more...")]):t._e()],1)],2)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.14752853e810e3d97718.js.map