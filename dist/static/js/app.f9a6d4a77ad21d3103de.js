webpackJsonp([2,0],[function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var r=n(21),o=s(r),i=n(97),a=s(i),u=n(87),c=s(u),f=n(38),l=s(f),p=n(22),d=s(p),h=n(99),m=n(37);(0,h.sync)(d.default,l.default);var v={color:"#f60",failedColor:"#874b4b",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s"},autoRevert:!0,location:"top",inverse:!1};o.default.use(a.default,v),o.default.filter("fromNow",m.fromNow),o.default.filter("domain",m.domain),o.default.filter("pluralize",m.pluralize);new o.default({el:"#app",template:"<App/>",components:{App:c.default},router:l.default,store:d.default})},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),i=r(o),a=n(100),u=r(a),c=n(39),f=s(c),l=n(41),p=s(l);i.default.use(u.default);var d={activeType:null,itemsPerPage:30,items:[],lists:{top:[],new:[],show:[],ask:[],job:[]}},h=new u.default.Store({state:d,actions:f,mutations:p});e.default=h},,,,,,,,,,,,,,,function(t,e){"use strict";function n(t){return o.href=t,o.hostname}function s(t){var e=Date.now()/1e3-Number(t);return e<3600?r(~~(e/60)," minute"):e<86400?r(~~(e/3600)," hour"):r(~~(e/86400)," day")}function r(t,e){return 1===t?t+e:t+e+"s"}Object.defineProperty(e,"__esModule",{value:!0}),e.domain=n,e.fromNow=s,e.pluralize=r;var o=document.createElement("a")},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),o=s(r),i=n(98),a=s(i),u=n(90),c=s(u);o.default.use(a.default),e.default=new a.default({scrollBehavior:function(){return{y:0}},routes:[{path:"/:page(\\d+)?",name:"top",component:c.default},{path:"/new/:page(\\d+)?",name:"new",component:c.default},{path:"/show/:page(\\d+)?",name:"show",component:c.default},{path:"/ask/:page(\\d+)?",name:"ask",component:c.default},{path:"/job/:page(\\d+)?",name:"job",component:c.default}]})},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.FETCH_ITEMS_BY_PAGE=e.FETCH_LIST_DATA=void 0;var r=n(23),o=s(r),i=n(40),a=function(t,e){var n=t.commit,s=t.dispatch,r=t.state,o=e.type,a=e.page;return(0,i.fetchIdsByType)(o).then(function(t){return n("SET_LIST",{type:o,ids:t})}).then(function(){return n("SET_ACTIVE_TYPE",{type:o})}).then(function(){return s("FETCH_ITEMS_BY_PAGE",{ids:r.lists[o],page:a})})},u=function(t,e){var n=t.commit,s=t.state,r=e.ids,a=e.page,u=s.itemsPerPage,c=(a-1)*u,f=a*u;return r=r.slice(c,f),r.length?(0,i.fetchItems)(r).then(function(t){return n("SET_ITEMS",{items:t})}):o.default.resolve()};e.FETCH_LIST_DATA=a,e.FETCH_ITEMS_BY_PAGE=u},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}function r(t){return new c.default(function(e,n){g[t]?e(g[t]):_.child("item/"+t).once("value",function(n){var s=g[t]=n.val();e(s)},n)})}function o(t){return t&&t.length?c.default.all(t.map(function(t){return r(t)})):c.default.resolve([])}function i(t){return new c.default(function(e,n){_.child(t).once("value",function(t){var n=t.val();e(n)},n)})}function a(t){return i(t+"stories")}Object.defineProperty(e,"__esModule",{value:!0});var u=n(23),c=s(u),f=n(46),l=s(f);e.fetchItem=r,e.fetchItems=o,e.fetchIdsByType=a;var p=n(36),d=s(p),h=n(86),m=(s(h),{databaseURL:"https://hacker-news.firebaseio.com"});d.default.initializeApp(m);var v="/v0",_=d.default.database().ref(v),g=(0,l.default)(null)},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){var n=e.type;t.activeType=n},s=function(t,e){var n=e.items;t.items=n},r=function(t,e){var n=e.type,s=e.ids;t.lists[n]=s};e.SET_ACTIVE_TYPE=n,e.SET_ITEMS=s,e.SET_LIST=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="undefined"!=typeof window;e.default={name:"VueProgress",serverCacheKey:function(){return"Progress"},computed:{style:function t(){var e=this.progress.options.location,t={"background-color":this.progress.options.canSuccess?this.progress.options.color:this.progress.options.failedColor,opacity:this.progress.options.show?1:0};return"top"==e||"bottom"==e?("top"===e?t.top="0px":t.bottom="0px",this.progress.options.inverse?t.right="0px":t.left="0px",t.width=this.progress.percent+"%",t.height=this.progress.options.thickness,t.transition="width "+this.progress.options.transition.speed+", opacity "+this.progress.options.transition.opacity):"left"!=e&&"right"!=e||("left"===e?t.left="0px":t.right="0px",this.progress.options.inverse?t.top="0px":t.bottom="0px",t.height=this.progress.percent+"%",t.width=this.progress.options.thickness,t.transition="height "+this.progress.options.transition.speed+", opacity "+this.progress.options.transition.opacity),t},progress:function(){return n?window.VueProgressBarEventBus.RADON_LOADING_BAR:{percent:0,options:{canSuccess:!0,show:!1,color:"rgb(19, 91, 55)",failedColor:"red",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s"},location:"top",autoRevert:!0,inverse:!1}}}}}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),o=s(r);e.default={name:"app",components:{NewsHeader:o.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Item",props:{item:Object,index:Number},computed:{href:function(){return this.item.url||"#/item/"+this.item.id},showInfo:function(){return"story"===this.item.type||"poll"===this.item.type},showDomain:function(){return"story"===this.item.type}}}},function(t,e,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),o=(s(r),n(88)),i=s(o);e.default={name:"NewsView",components:{Item:i.default},data:function(){return{items:[]}},mounted:function(){this.fetchItems()},watch:{$route:function(){this.fetchItems()}},methods:{fetchItems:function(){var t=this;this.$Progress.start(),this.$store.dispatch("FETCH_LIST_DATA",{type:this.type,page:this.page}).then(function(){t.$Progress.finish(),t.items=t.$store.state.items,t.items.forEach(function(e,n){t.$set(e,"index",(t.page-1)*t.$store.state.itemsPerPage+n+1)})},function(){t.$Progress.fail()})}},computed:{page:function(){return Number(this.$store.state.route.params.page)||1},type:function(){return this.$store.state.route.name},path:function(){return"top"===this.$store.state.route.name?"/":"/"+this.$store.state.route.name+"/"},maxPage:function(){var t=this.$store.state,e=t.itemsPerPage,n=t.lists;return Math.ceil(n[this.type].length/e)},hasMore:function(){return this.page<this.maxPage}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,n){var s,r;n(83),s=n(43);var o=n(94);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,r;n(85),s=n(44);var o=n(96);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,r;n(81);var o=n(92);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,r;n(84),s=n(45);var o=n(95);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e,n){var s,r;n(82),s=n(42);var o=n(93);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=o.render,r.staticRenderFns=o.staticRenderFns,t.exports=s},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-header"},[n("div",{staticClass:"logo"}),t._v(" "),n("ul",{staticClass:"nav"},[n("router-link",{staticClass:"title",attrs:{to:{name:"top"}}},[t._v("Hacker News")]),t._v(" "),n("router-link",{staticClass:"tab",attrs:{to:{name:"new"}}},[t._v("new")]),t._v(" "),n("router-link",{staticClass:"tab",attrs:{to:{name:"show"}}},[t._v("show")]),t._v(" "),n("router-link",{staticClass:"tab",attrs:{to:{name:"ask"}}},[t._v("ask")]),t._v(" "),n("router-link",{staticClass:"tab",attrs:{to:{name:"job"}}},[t._v("jobs")])],1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"project-info"},[t._v("Built with Vue.js | "),n("a",{staticClass:"source",attrs:{href:"https://github.com/ihaichao/vue2-hackernews.git"}},[t._v("Source")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"__cov-progress",style:t.style})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("NewsHeader"),t._v(" "),n("router-view",{staticClass:"view"}),t._v(" "),n("vue-progress-bar")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-view",class:{loading:!t.items.length}},[t._l(t.items,function(t){return n("item",{attrs:{item:t,index:t.index}})}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.items.length>0,expression:"items.length > 0"}],staticClass:"pagination"},[t.page>1?n("router-link",{attrs:{to:t.path+(t.page-1)}},[t._v("< prev")]):t._e(),t._v(" "),t.hasMore?n("router-link",{attrs:{to:t.path+(t.page+1)}},[t._v("more...")]):t._e()],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("span",{staticClass:"index"},[t._v(t._s(t.index)+".")]),t._v(" "),n("p",[n("a",{staticClass:"title",attrs:{href:t.href,target:"_blank"}},[t._v(t._s(t.item.title))]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.showDomain,expression:"showDomain"}],staticClass:"domain"},[t._v("\n      ("+t._s(t._f("domain")(t.item.url))+")\n    ")])]),t._v(" "),n("p",{staticClass:"subtext"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}]},[t._v("\n      "+t._s(t.item.score)+" points by\n      "),n("a",{attrs:{href:"//news.ycombinator.com/user?id="+t.item.by,target:"_blank"}},[t._v(t._s(t.item.by))])]),t._v("\n    "+t._s(t._f("fromNow")(t.item.time))+" ago\n    "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.showInfo,expression:"showInfo"}],staticClass:"comments-link"},[t._v("\n      | "),n("a",{attrs:{href:"//news.ycombinator.com/item?id="+t.item.id,target:"_blank"}},[t._v(t._s(t._f("pluralize")(t.item.descendants,"comment")))])])])])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.f9a6d4a77ad21d3103de.js.map